<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Framework | Testing all web components</title>
    <script src="//code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <script src='./dist/js/vendor.js'></script>
    <script src='js/FancyProductDesigner.js'></script>
    <link href="./dist/css/vendor.css" rel="stylesheet" type="text/css">
    <style>
        
        body {
            font-family: "Lato", sans-serif;
        }
        
        .container {
            width: 1200px;
            margin: auto;
            max-width: 100%;
        }
        
        #fpd-target {
            margin: 20px;
            margin-top: 80px;
        }
        
    </style>
</head>
<body>
    <div class="container">
        <div id="fpd-target" class="fpd-sidebar fpd-shadow-2"></div>
        <!-- <div id="fpd-target" class="fpd-off-canvas fpd-shadow-2"></div> -->
        <!-- <div id="fpd-target" class="fpd-topbar fpd-shadow-2"></div> -->
        
        <div id="ui-form">
            
            <select id="main-layout">
                <option value="sidebar">Sidebar</option>
                <option value="topbar">Topbar</option>
                <option value="off-canvas">Off-Canvas</option>
            </select>
            
        </div>
        
        <script>
            
            const appOptions = {
                langJson: 'data/langs/default.json',
                initialActiveModule: 'images',
                responsiveBreakpoints: {
                },
                mainBarModules: [
                    'products',
                    'images',
                    'text',
                    'text-to-image',
                    'designs',
                    'designs_love',
                    'manage-layers',
                    'text-layers',
                    'layouts',
                    'manage-layers',
                    'text-layers',
                    'layouts',
                ],
                fonts: [
                    {name: 'Lobster', url: 'google'},
                    {name: 'Aller', url: 'fonts/Aller.ttf', variants: {
                            'n7': 'fonts/Aller__bold.ttf',
                            'i4': 'fonts/Aller__italic.ttf',
                            'i7': 'fonts/Aller__bolditalic.ttf'
                        }
                    },
                    {name: 'Pacifico', url: 'fonts/Pacifico.ttf'},
                ],
                productsJSON: 'data/products/product-categories.json',
                designsJSON: 'data/designs/design-categories.json',
                textTemplates: [
                    {
                        text: "This is\nmy world",
                        properties: {
                            fontSize: 30,
                            fontFamily: "Lobster"
                        }
                    },
                    {
                        text: "This is my crazy world.",
                        properties: {
                            fontSize: 50,
                            fontFamily: "Lobster"
                        }
                    },
                    {
                        text: "This is\nmy world",
                        properties: {
                            fontSize: 30,
                            fontFamily: "Lobster"
                        }
                    },
                    {
                        text: "This is my crazy world.",
                        properties: {
                            fontSize: 50,
                            fontFamily: "Lobster"
                        }
                    },
                    {
                        text: "This is\nmy world",
                        properties: {
                            fontSize: 30,
                            fontFamily: "Lobster"
                        }
                    },
                    {
                        text: "This is my crazy world.",
                        properties: {
                            fontSize: 50,
                            fontFamily: "Lobster"
                        }
                    },
                    {
                        text: "This is\nmy world",
                        properties: {
                            fontSize: 30,
                            fontFamily: "Lobster"
                        }
                    },
                    {
                        text: "This is my crazy world.",
                        properties: {
                            fontSize: 50,
                            fontFamily: "Lobster"
                        }
                    }
                ],
                dynamicDesigns: {
                    "love": {
                        name: "Love",
                        icon: "https://dek8oqj8xxsl6.cloudfront.net/img/humans/silhouettes/silhouette_10.svg",
                        categories: ['love']
                    }
                },
                customImageAjaxSettings: {
                    url: 'https://radykal.dep/fpd-js/server/php/custom-image-handler.php',
                    data: {
                        saveOnServer: 1,
                        uploadsDir: '/Users/rady/htdocs/fpd-js/data/uploads',
                        uploadsDirURL: this.location.origin + '/data/uploads'
                    }
                },
                facebookAppId: '893957135155898',
                instagramClientId: '6748682918479320',
                instagramRedirectUri: 'https://localhost:8080/data/html/instagram_auth.html',
                instagramTokenUri: 'https://radykal.dep/fpd-js/server/php/instagram-token.php',
                customImageParameters: {
                    price: 10,
                    maxSize: 1
                },
                uploadAgreementModal: false,
                swapProductConfirmation: true,
                pixabayApiKey: '7571591-cf8ff820ec635edeb4e8c6af7',
                 pixabayLang: 'de',
                pixabayHighResImages: false,
            }
                
            const fpd = new FancyProductDesigner(document.getElementById('fpd-target'), appOptions);
            
            const updateMainLayout = (layout='sidebar') => {
                
                fpd.container.classList.remove('fpd-topbar');
                fpd.container.classList.remove('fpd-sidebar');
                fpd.container.classList.remove('fpd-off-canvas');
                
                fpd.container.classList.add('fpd-'+layout);
                fpd.mainbar.updateContentWrapper();
                
            }
            
            fpd.addEventListener('ready', () => {
                
                $('#main-layout').change((evt) => {
                    updateMainLayout(evt.currentTarget.value);
                })
                
            })
            
            fpd.addEventListener('productsSet', (evt) => {
                                
            })
                        
            jQuery(document).ready(($) => {
            })
            
        </script>
    </div>
</body>
</html>